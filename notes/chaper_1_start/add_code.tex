\documentclass[UTF8]{ctexart}

\usepackage{listings}
\usepackage{xcolor}
\lstset{
    numbers=left,
    numberstyle= \tiny,
    keywordstyle= \color{ blue!70},
    commentstyle= \color{red!50!green!50!blue!50},
    frame=shadowbox, % 阴影效果
    rulesepcolor= \color{ red!20!green!20!blue!20} ,
    escapeinside=``, % 英文分号中可写入中文
    xleftmargin=2em,xrightmargin=2em, aboveskip=1em,
    framexleftmargin=2em
}

\begin{document}
  \section{用listings}

  \lstset{language=C}
  \begin{lstlisting}
#include <iostream>
using namespace std;

int main()
{
    cout<<"hello"<<endl;
    return 0;
}
  \end{lstlisting}


\end{document}
